#include <iostream>
using namespace std;


int* create_arr(int size){
    /*Функция создания динамического массива*/
    return new int[size];
}


void randomizer(int* arr, int size){
    /*Заполняет массив случайными числами*/
    for (int i = 0; i < size; i++){
        arr[i] = 1 + rand() % 20;
    }
}


template<typename T>
void print_arr(T* arr, int size){
    /*Выводит массив в коносоль*/
    for (int i = 0; i < size; i++){
        cout << arr[i] << " ";
    }
    cout << endl;
}

bool is_simple(int number){
    /*Проверяет является число простым или нет*/
    if (number == 1 or number == 0){
        return false;
    }
    for (int i = 2; i < number; i++){
        if (number % i == 0){
            return false;
        }
        
    }
    return true;
}

template <typename T>
void pop_element(T* &arr, int &size, int index){
    /*Функция удаления эл.та по указанному индексу*/
    --size;
    T* newArr = new T[size];
    for (int i = 0; i < size + 1; i++){
        if (i < index){
            newArr[i] = arr[i];
        }
        else {
            newArr[i] = arr[i + 1];
        }
    }
    delete[] arr;
    arr = newArr;

}


template <typename T>
T* del_simple_numbers(T* &arr, int &size){
    /*Удаляет все простые числа из массива
    и возврщает указатель на новый массив*/
    
    bool simple_number;
    
    for (int i = 0; i < size; i++){
        simple_number = is_simple(arr[i]);
        if (simple_number){
            pop_element(arr, size, i);
            
        }
        
    }

}

int main(){
    setlocale(LC_ALL, "RU");
    srand(time(0));
    int size = 10;
    int *ptr;
    int* result;
    ptr = create_arr(10);
    randomizer(ptr, size);
    cout << "Массив: " << endl;
    print_arr(ptr, size);
    cout << "Убираем простые числа: " << endl;
    del_simple_numbers(ptr, size);
    print_arr(ptr, size);
    
    
}
